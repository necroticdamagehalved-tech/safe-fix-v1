@font-face{
  font-family: "Overseer";
  src: url("./fonts/overseer.ttf") format("truetype");
}

:root{
  --bg:#0b1a14;
  --panel:#102820;
  --border:#1f4d3a;
  --text:#c9f7df;
  --muted:#7fbfa2;
  --accent:#3cff9e;
}

body{ margin:0; background:var(--bg); color:var(--text); font-family: Arial, Helvetica, sans-serif; }

#topbar{
  display:flex; justify-content:space-between; align-items:center;
  padding:10px 16px; background:#08130f; border-bottom:1px solid var(--border);
}

.title{ font-family:"Overseer", monospace; font-size:22px; display:flex; gap:10px; align-items:baseline; }
.buildtag{ font-size:12px; color:var(--muted); border:1px solid var(--border); padding:2px 6px; }

#tabs{ display:flex; gap:6px; }

.tab{
  background:transparent; border:1px solid var(--border); color:var(--text);
  padding:6px 12px; cursor:pointer; font-family:"Overseer", monospace;
}
.tab.active{ background:var(--panel); border-color:var(--accent); color:var(--accent); }

#app{ padding:16px; }

.panel{ display:none; background:var(--panel); border:1px solid var(--border); padding:16px; min-height:70vh; }
.panel.active{ display:block; }

h1{ font-family:"Overseer", monospace; margin-top:0; }

.muted{ color:var(--muted); }
.tiny{ font-size:12px; }

/* BUILD subtabs */
.subtabs{ display:flex; gap:6px; margin-bottom:12px; }
.subtab{
  background:transparent; border:1px solid var(--border); color:var(--text);
  padding:6px 10px; cursor:pointer; font-family:"Overseer", monospace;
}
.subtab.active{ background:#08130f; border-color:var(--accent); color:var(--accent); }
.subpanel{ display:none; }
.subpanel.active{ display:block; }

/* Form */
.form-grid{ display:grid; grid-template-columns: repeat(2, 1fr); gap:12px; max-width:650px; }
label{ display:flex; flex-direction:column; gap:4px; }
label.full{ grid-column:1 / -1; }
input, textarea{ background:#08130f; border:1px solid var(--border); color:var(--text); padding:8px; }
input:focus, textarea:focus{ outline:none; border-color:var(--accent); }

/* Boxes */
.box{ padding:10px; border:1px solid var(--border); background:#08130f; }

/* Race UI */
.race-layout{ display:grid; grid-template-columns: 260px 1fr; gap:12px; }
.race-list{ display:flex; flex-direction:column; gap:8px; }
.race-card{
  text-align:left; background:#08130f; border:1px solid var(--border); color:var(--text);
  padding:10px; cursor:pointer;
}
.race-card.active{ border-color:var(--accent); }
.race-card-name{ font-family:"Overseer", monospace; letter-spacing:0.5px; margin-bottom:4px; }
.race-card-stats{ color:var(--muted); font-size:12px; }

.race-detail{ display:flex; flex-direction:column; gap:10px; }
.race-summary{
  padding:10px; border:1px solid var(--border); background:#08130f;
  display:flex; justify-content:space-between; gap:10px; flex-wrap:wrap;
}
.race-stats{ display:flex; gap:14px; color:var(--muted); }

.trait{ padding:8px 0; border-bottom:1px solid rgba(31,77,58,0.5); }
.trait:last-child{ border-bottom:none; }

.subset-list{ margin-top:8px; display:flex; flex-wrap:wrap; gap:8px; }
.subset-card{
  background:transparent; border:1px solid var(--border); color:var(--text);
  padding:8px 10px; cursor:pointer; font-family:"Overseer", monospace;
}
.subset-card.active{ border-color:var(--accent); color:var(--accent); }
.subset-name{ font-size:14px; }

/* Sheet */
.sheet-block{ margin-bottom:16px; padding:10px; border:1px solid var(--border); background:#08130f; }
pre{ white-space:pre-wrap; color:var(--muted); margin:8px 0 0 0; }

/* Mobile */
@media (max-width: 820px){
  .race-layout{ grid-template-columns: 1fr; }
  .race-list{ flex-direction:row; overflow:auto; }
  .race-card{ min-width:180px; }
}


/* SPECIAL (Build subtab) */
.special-grid {
  display: grid;
  grid-template-columns: 1fr;
  gap: 8px;
  margin-top: 12px;
}

.special-row {
  display: grid;
  grid-template-columns: 40px 1fr 70px 40px;
  gap: 10px;
  align-items: center;
  padding: 10px;
  border: 1px solid var(--line);
  background: rgba(0,0,0,0.35);
}

.special-row .stat {
  font-weight: 700;
  letter-spacing: 0.08em;
}

.special-row .val {
  text-align: center;
  font-size: 18px;
  font-weight: 800;
}

.special-row button {
  width: 40px;
  height: 34px;
}


/* Phase 6.1 — Mobile Race Grid */
@media (max-width: 640px){
  .race-list, .race-cards, #raceList {
    display: grid !important;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 10px;
    overflow: visible !important;
  }

  .race-card {
    width: 100% !important;
    min-width: 0 !important;
  }
}


/* Phase 6.2 — Skills list */
.skills-list{
  display:flex;
  flex-direction:column;
  gap:8px;
}
.skill-row{
  display:grid;
  grid-template-columns: 1fr auto auto;
  gap:10px;
  align-items:center;
  padding:10px;
  border:1px solid rgba(255,255,255,0.12);
  border-radius:10px;
  background: rgba(0,0,0,0.25);
}
.skill-name{ font-weight:700; }
.skill-gov{ opacity:0.75; font-size:0.9em; }
.skill-mod{ font-variant-numeric: tabular-nums; font-weight:800; }
.skill-tag{
  justify-self:end;
  padding:4px 8px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,0.18);
  background: rgba(0,0,0,0.35);
  font-size:0.85em;
}
.skill-tag.on{ border-color: rgba(120,220,120,0.55); }
@media (max-width:640px){
  .skill-row{ grid-template-columns: 1fr auto; }
  .skill-tag{ grid-column: 1 / -1; justify-self:start; }
}


/* Phase 6.2.4 — Tag button visibility/clickability */
.skill-tag{
  cursor: pointer;
  min-width: 84px;
  text-align: center;
  position: relative;
  z-index: 2;
  user-select: none;
}
.skill-tag:active{
  transform: translateY(1px);
}
.skill-tag.on{
  background: rgba(40,120,60,0.35);
}


/* Phase 6.2.5 — Tag button color */
.skill-tag{
  color: #66ff99;
}
.skill-tag.on{
  color: #aaffcc;
}


/* Phase 6.2.5 — Tag text color */
.skill-tag{
  color: #7CFF7C !important;
}


/* Phase 6.2.6 — First Gen radio visibility */
#skillsList input[type="radio"]{
  accent-color: #7CFF7C;
}


/* === Perks Phase 1 Grid === */

.perk-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 16px;
  padding: 12px;
}

.perk-family {
  border: 2px solid #2a2a2a;
  background: #0f1114;
  border-radius: 6px;
  padding: 8px;
  min-height: 200px;
}

.perk-family h3 {
  margin: 0 0 6px 0;
  padding: 6px;
  background: #1b1e24;
  text-align: center;
  font-size: 1rem;
  letter-spacing: 1px;
}

.perk-family-body {
  min-height: 140px;
}


/* === Perk Slots Bar === */

.perk-slots-bar {
  margin: 8px 12px;
  padding: 6px 10px;
  background: #1b1e24;
  border: 1px solid #2a2a2a;
  border-radius: 4px;
  font-size: 0.9rem;
}


/* === Perk Tiles (Phase 3) === */

.perk-warning {
  border-color: rgba(255,80,80,0.6) !important;
}

.perk-tile {
  border: 1px solid rgba(255,255,255,0.12);
  border-radius: 10px;
  padding: 10px;
  background: rgba(0,0,0,0.25);
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin: 8px;
}

.perk-title {
  font-weight: 700;
  letter-spacing: 1px;
}

.perk-meta {
  font-size: 0.85rem;
  opacity: 0.85;
}

.perk-desc {
  font-size: 0.9rem;
  opacity: 0.9;
  line-height: 1.2;
}

.perk-controls {
  display: flex;
  gap: 8px;
  margin-top: 4px;
}

.perk-pick-btn,
.perk-unpick-btn {
  padding: 6px 10px;
  border-radius: 8px;
}

.perk-tile.locked {
  opacity: 0.55;
}

.perk-tile.disabled .perk-pick-btn {
  opacity: 0.6;
}



.perk-ranks {
  margin-top: 2px;
  border-top: 1px solid rgba(255,255,255,0.10);
  padding-top: 6px;
  display: flex;
  flex-direction: column;
  gap: 4px;
  font-size: 0.85rem;
  opacity: 0.95;
}

.perk-rank {
  opacity: 0.75;
}

.perk-rank.owned {
  opacity: 1;
}

.perk-rank.next {
  text-decoration: underline;
}
